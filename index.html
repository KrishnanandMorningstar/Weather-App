<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸŒ¦ Weather</title>

<style>
body{
  font-family:"Segoe UI",sans-serif;
  background:linear-gradient(135deg,#74ebd5,#acb6e5);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:0.3s;
}
.dark{background:#121212;color:white;}

.card{
  background:white;
  padding:22px;
  border-radius:18px;
  width:340px;
  text-align:center;
  box-shadow:0 12px 25px rgba(0,0,0,0.25);
}
.dark .card{background:#1e1e1e;}

input{
  width:90%;
  padding:8px;
  border-radius:8px;
  border:1px solid #ccc;
}

button{
  margin:6px;
  padding:8px 16px;
  border:none;
  border-radius:20px;
  background:#4CAF50;
  color:white;
  cursor:pointer;
}
button:hover{background:#43a047;}

img{width:64px;}
.details{text-align:left;font-size:13px;margin-top:10px;}
.toggle{font-size:14px;cursor:pointer;text-align:right;}
</style>
</head>

<body>

<div class="card">
  <div class="toggle" onclick="toggleDark()">ğŸŒ™ Dark</div>
  <h2>ğŸŒ¦ Weather</h2>

  <input id="city" placeholder="Enter city">
  <br>
  <button onclick="getWeather()">Search</button>
  <button onclick="getLocation()">ğŸ“ My Location</button>

  <div id="result"></div>
</div>

<script>
const apiKey="ee645a4e7b9d432eb31175406252312";

function getWeather(cityName){
  const city = cityName || document.getElementById("city").value;
  if(!city){alert("Enter city name");return;}

  fetch(`https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${city}&aqi=yes`)
  .then(res=>res.json())
  .then(data=>{
    if(data.error){
      document.getElementById("result").innerHTML="âŒ City not found";
      return;
    }

    document.getElementById("result").innerHTML=`
      <h3>${data.location.name}, ${data.location.country}</h3>
      <img src="https:${data.current.condition.icon}">
      <p><b>${data.current.condition.text}</b></p>

      <div class="details">
        ğŸŒ¡ Temp: ${data.current.temp_c} Â°C<br>
        ğŸ¤’ Feels: ${data.current.feelslike_c} Â°C<br>
        ğŸ’§ Humidity: ${data.current.humidity}%<br>
        ğŸ’¨ Wind: ${data.current.wind_kph} km/h<br>
        ğŸŒ« Visibility: ${data.current.vis_km} km<br>
        ğŸ“Š Pressure: ${data.current.pressure_mb} mb<br>
        â˜ï¸ Cloud: ${data.current.cloud}%<br>
        â˜€ï¸ UV: ${data.current.uv}<br><br>
        ğŸŒ <b>Air Quality</b><br>
        PM2.5: ${data.current.air_quality.pm2_5.toFixed(1)}<br>
        CO: ${data.current.air_quality.co.toFixed(1)}<br>
        NOâ‚‚: ${data.current.air_quality.no2.toFixed(1)}
      </div>
    `;
  });
}

function getLocation(){
  navigator.geolocation.getCurrentPosition(pos=>{
    const lat=pos.coords.latitude;
    const lon=pos.coords.longitude;
    getWeather(`${lat},${lon}`);
  });
}

function toggleDark(){
  document.body.classList.toggle("dark");
}
</script>

</body>
</html>
